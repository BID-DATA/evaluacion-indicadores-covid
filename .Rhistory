arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
promedio_plots[[i]] <- ggfun_prom(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
}
View(consulta)
vars <- set_names(consulta$indicator)
promedio_list <-list()
promedio_plots <-list()
for (i in names(vars)) {
promedio_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
promedio_plots[[i]] <- ggfun_prom(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
}
promedio_plots$pobreza
promedio_plots$vulnerable
View(promedio_plots)
View(promedio_list)
View(promedio_list)
View(promedio_list[["vulnerable"]])
View(promedio_list[["pobreza"]])
View(promedio_plots)
view(promedio_plots[["pobreza"]][["data"]])
view(promedio_plots[["vulnerable"]][["data"]])
promedio_plots$pobreza
view(promedio_plots[["vulnerable"]][["data"]])
view(promedio_plots[["pobreza"]][["data"]])
for (i in names(vars)) {
promedio_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
plots_prom[[i]] <- ggplot(promedio_list[[i]], aes(x = reorder(isoalpha3, change_pp),  fill = isoalpha3)) +
geom_col(aes(y = change_pp)) +
geom_text(data = promedio_list[[i]],
aes(y =  change_pp +.5, label = comma(change_pp, accuracy = 0.1)),
family = 'Century Gothic', fontface = "bold") +
labs(title = str_wrap(promedio_list[[i]]$label_es, 40), y = "Puntos porcentuales") +
theme(legend.position="none",
axis.title.y = element_text(color = "#000f1c", face = "bold", family = 'Century Gothic'),
axis.title.x = element_blank(),
legend.title=element_blank(),panel.background = element_blank(),
axis.text.x = element_text(angle = 90),
axis.text = element_text(size = 14, color = "#000f1c", face = "bold", family = 'Century Gothic'),
legend.text = element_text(size = 10, color = "#000f1c", face = "bold", family = 'Century Gothic'),
text = element_text(size = 14, color = "#000f1c", face = "bold", family = 'Century Gothic')) +
scale_fill_manual(values = countries_color_prom)
}
for (i in names(vars)) {
promedio_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
promedio_plots[[i]] <- ggplot(promedio_list[[i]], aes(x = reorder(isoalpha3, change_pp),  fill = isoalpha3)) +
geom_col(aes(y = change_pp)) +
geom_text(data = promedio_list[[i]],
aes(y =  change_pp +.5, label = comma(change_pp, accuracy = 0.1)),
family = 'Century Gothic', fontface = "bold") +
labs(title = str_wrap(promedio_list[[i]]$label_es, 40), y = "Puntos porcentuales") +
theme(legend.position="none",
axis.title.y = element_text(color = "#000f1c", face = "bold", family = 'Century Gothic'),
axis.title.x = element_blank(),
legend.title=element_blank(),panel.background = element_blank(),
axis.text.x = element_text(angle = 90),
axis.text = element_text(size = 14, color = "#000f1c", face = "bold", family = 'Century Gothic'),
legend.text = element_text(size = 10, color = "#000f1c", face = "bold", family = 'Century Gothic'),
text = element_text(size = 14, color = "#000f1c", face = "bold", family = 'Century Gothic')) +
scale_fill_manual(values = countries_color_prom)
}
promedio_plots$pobreza
promedio_plots$vulnerable
source("Indicadores funciones.R")
promedio_list <-list()
promedio_plots <-list()
for (i in names(vars)) {
promedio_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
promedio_plots[[i]] <- ggfun_prom(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
}
promedio_list <-list()
promedio_plots <-list()
consulta <- scldataR::scldata_dict %>%
select(collection, indicator, label_es) %>%
filter(indicator == 'pobreza' | indicator == 'vulnerable' | indicator == 'ginihh'| indicator == 'indexrem')
vars <- set_names(consulta$indicator)
for (i in names(vars)) {
promedio_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
promedio_plots[[i]] <- ggfun_prom(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
}
```{r indicadores graficas, include=FALSE}
for (i in names(vars)) {
promedio_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
promedio_plots[[i]] <- ggfun_prom(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
}
source("Indicadores funciones.R")
promedio_list <-list()
promedio_plots <-list()
consulta <- scldataR::scldata_dict %>%
select(collection, indicator, label_es) %>%
filter(indicator == 'pobreza' | indicator == 'vulnerable' | indicator == 'ginihh'| indicator == 'indexrem')
vars <- set_names(consulta$indicator)
for (i in names(vars)) {
promedio_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
promedio_plots[[i]] <- ggfun_prom(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
}
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value))
evolucion_plots[[i]] <- ggfun_evo(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
}
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
}
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion[[i]]$isoalpha3, evolucion[[i]]$change_pp)
}
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, year)) %>%
ungroup() %>%
group_by(isoalpha3) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$isoalpha3, evolucion_list[[i]]$change_pp)
}
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$isoalpha3, evolucion_list[[i]]$change_pp)
}
source("Indicadores funciones.R")
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$isoalpha3, evolucion_list[[i]]$change_pp)
}
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$isoalpha3, evolucion_list[[i]]$value)
}
View(evolucion_list)
View(evolucion_list[["pobreza"]])
source("Indicadores funciones.R")
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$value)
}
source("Indicadores funciones.R")
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$value)
}
source("Indicadores funciones.R")
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- query_indicator(indicator = i,
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
left_join(paises)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$value)
}
evolucion_list[["pobreza"]]
categoria_list <-list()
categoria_plots <-list()
for (i in names(vars)) {
categoria_list[[i]] <- query_indicator(indicator = i,
categories = 'area',
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, area, year)) %>%
ungroup() %>%
group_by(isoalpha3, area) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
categoria_plots[[i]] <- ggfun_one(categoria_list[[i]], categoria_list[[i]]$isoalpha3, categoria_list[[i]]$change_pp)
}
categoria_list <-list()
categoria_plots <-list()
for (i in names(vars)) {
categoria_list[[i]] <- query_indicator(indicator = i,
categories = 'area',
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, area, year)) %>%
ungroup() %>%
group_by(isoalpha3, area) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
categoria_plots[[i]] <- ggfun_one(categoria_list[[i]], categoria_list[[i]]$isoalpha3, categoria_list[[i]]$change_pp, categoria_list[[i]]$area)
}
View(categoria_list)
View(categoria_list[["vulnerable"]])
devtools::install_github('rstudio/rmarkdown')
# Educación {#cross}
Esta sección contiene información acerda de los indicadores de tasa neta de asistencia, tasa de asistencia escolar por edad, porcentaje de jóvenes que no
estudian ni trabajan, tasa de terminación escolar, tasa de abandono y tasa de sobreedad.
```{r indicadores general, include=FALSE}
source("Indicadores funciones.R")
#### Table
table2 <- query_indicator(indicator = 'tasa_asis_edad,leavers,Ninis_2',
categories = 'age') %>%
mutate(year = case_when(isoalpha3 == "CHL" & year == 2017 ~ 2019,
isoalpha3 == "MEX" & year == 2018 ~ 2019,
TRUE ~ year)) %>%
group_by(isoalpha3, year) %>%
mutate(value = mean(value, na.rm = TRUE),
age = "Promedio",
sample = NA_character_,
cv = NA_character_,
se = NA_character_) %>%
distinct() %>%
rbind(grouped_mean(., value, indicator, year)) %>%
ungroup() %>%
select(country_name_es, isoalpha3, year, indicator, value) %>%
spread(indicator, value)
table <- query_indicator(indicator = 'tasa_neta_asis,tasa_sobre_edad,tasa_terminacion_c',
categories = 'education_level') %>%
mutate(year = case_when(isoalpha3 == "CHL" & year == 2017 ~ 2019,
isoalpha3 == "MEX" & year == 2018 ~ 2019,
TRUE ~ year)) %>%
group_by(isoalpha3, year) %>%
mutate(value = mean(value, na.rm = TRUE),
education_level = "Promedio",
sample = NA_character_,
cv = NA_character_,
se = NA_character_) %>%
distinct() %>%
rbind(grouped_mean(., value, indicator, year)) %>%
ungroup() %>%
select(country_name_es, isoalpha3,  year, indicator, value) %>%
spread(indicator, value) %>%
left_join(table2)# %>%
# rename_all(funs(c('País', 'Año', 'Tasa neta de asistencia', 'Tasa sobreedad', 'Tasa terminación', 'Tasa abandono', 'Ninis', 'Tasa asistencia por edad')))
promedio_list <-list()
promedio_plots <-list()
consulta <- scldataR::scldata_dict %>%
select(collection, indicator, label_es) %>%
filter(indicator == 'tasa_asis_edad' |indicator == 'leavers'| indicator == 'Ninis_2')
vars <- set_names(consulta$indicator)
##### Promedios
# for (i in names(vars)) {
#
# promedio_list[[i]] <-
#
#
#   query_indicator(indicator = i,
#                                       countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA',
#                                       categories = 'age') %>%
#   mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
#                           year == 2018 & isoalpha3 == "MEX" ~2019,
#                           TRUE ~ year)) %>%
#   rbind(grouped_mean(., value, year)) %>%
#   ungroup() %>%
#   group_by(isoalpha3) %>%
#   arrange(isoalpha3, year) %>%
#   mutate(change_pp = value - lag(value)) %>%
#   filter(year == 2020)
#
# promedio_plots[[i]] <- ggfun_prom(promedio_list[[i]], promedio_list[[i]]$isoalpha3, promedio_list[[i]]$change_pp)
#
# }
##### Evolución
evolucion_list <-list()
evolucion_plots <-list()
x <- table %>%
left_join(paises)
for (i in names(vars)) {
evolucion_list[[i]] <- table %>%
left_join(paises) %>%
select(isoalpha3, year, i)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$i)
}
evolucion_list <-list()
evolucion_plots <-list()
x <- table %>%
left_join(paises)
for (i in names(vars)) {
evolucion_list[[i]] <- table %>%
left_join(paises) %>%
select(isoalpha3, year, i)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$i)
}
evolucion_list <-list()
evolucion_plots <-list()
x <- table %>%
left_join(paises)
for (i in names(vars)) {
evolucion_list[[i]] <- table %>%
left_join(paises) %>%
select(isoalpha3, year, i)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$i)
}
consulta <- scldataR::scldata_dict %>%
select(collection, indicator, label_es) %>%
filter(indicator == 'tasa_asis_edad' |indicator == 'leavers'| indicator == 'Ninis_2')
vars <- set_names(consulta$indicator)
for (i in names(vars)) {
categoria_list[[i]] <- query_indicator(indicator = i,
categories = 'area',
countries = 'COL,ARG,PRY,ECU,MEX,CRI,SLV,BOL,PER,CHL,BRA',
categories = 'age') %>%
mutate(year = case_when(year == 2017 & isoalpha3 == "CHL" ~ 2019,
year == 2018 & isoalpha3 == "MEX" ~2019,
TRUE ~ year)) %>%
rbind(grouped_mean(., value, area, year)) %>%
ungroup() %>%
group_by(isoalpha3, area) %>%
arrange(isoalpha3, year) %>%
mutate(change_pp = value - lag(value)) %>%
filter(year == 2020)
categoria_plots[[i]] <- ggfun_one(categoria_list[[i]], categoria_list[[i]]$isoalpha3, categoria_list[[i]]$change_pp, categoria_list[[i]]$area)
}
for (i in names(vars)) {
evolucion_list[[i]] <- table %>%
left_join(paises) %>%
select(isoalpha3, year, i)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$i)
for (i in names(vars)) {
evolucion_list[[i]] <- table %>%
left_join(paises) %>%
select(isoalpha3, year, i)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$i)
}
View(promedio_list)
View(promedio_plots)
View(evolucion_list)
table <- query_indicator(indicator = 'tasa_neta_asis,tasa_sobre_edad,tasa_terminacion_c',
categories = 'education_level') %>%
mutate(year = case_when(isoalpha3 == "CHL" & year == 2017 ~ 2019,
isoalpha3 == "MEX" & year == 2018 ~ 2019,
TRUE ~ year)) %>%
group_by(isoalpha3, year) %>%
mutate(value = mean(value, na.rm = TRUE),
education_level = "Promedio",
sample = NA_character_,
cv = NA_character_,
se = NA_character_) %>%
distinct() %>%
rbind(grouped_mean(., value, indicator, year)) %>%
ungroup() %>%
select(country_name_es, isoalpha3,  year, indicator, value) %>%
spread(indicator, value) %>%
left_join(table2) %>%
left_join(paises)
View(table)
evolucion_list <-list()
evolucion_plots <-list()
for (i in names(vars)) {
evolucion_list[[i]] <- table %>%
left_join(paises) %>%
select(isoalpha3, region_bid, year, i)
evolucion_plots[[i]] <- ggfun_evo(evolucion_list[[i]], evolucion_list[[i]]$year, evolucion_list[[i]]$i)
}
bookdown::render_book("index.Rmd")
file.create('.nojekyll')
remove.packages("yaml")
install.packages("yaml")
install.packages("yaml")
install.packages("trackdown")
remotes::install_github("claudiozandonella/trackdown", build_vignettes = TRUE)
library(trackdown)
upload_file(01-Pobreza-protección-social, hide_code = TRUE)
upload_file("01-Pobreza-protección-social.Rmd", hide_code = TRUE)
upload_file("01-Pobreza-protección-social.Rmd", hide_code = TRUE)
Google.logInAsync()
